<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LUMEN — Ops & Turnos</title>
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="hero">
        <p class="kicker">Observabilidad viva</p>
        <h1>LUMEN — Ops & Turnos</h1>
        <p class="subtitle">Ops y turnos con contrato vivo y metricas accionables.</p>
        <div class="meta-line">
          <span id="meta-service">service: n/a</span>
          <span id="meta-env">env: n/a</span>
          <span id="meta-started">startedAt: n/a</span>
          <span id="meta-uptime">uptime: n/a</span>
        </div>
        <div class="demo-row">
          <label class="demo-toggle" for="demo-toggle">
            <input type="checkbox" id="demo-toggle" />
            <span>Modo demo</span>
          </label>
          <span id="demo-pill" class="pill" aria-hidden="true">Demo</span>
        </div>
      </header>
      <main class="grid">
        <section id="status" class="panel">
          <h2>Status</h2>
          <div id="status-content">Consultando /health...</div>
          <div id="status-announce" class="sr-only" aria-live="polite"></div>
        </section>
        <section id="overview" class="panel">
          <h2>Overview</h2>
          <div id="overview-content">Consultando /metrics/overview...</div>
          <div id="overview-updated" class="updated-line"></div>
          <div id="overview-announce" class="sr-only" aria-live="polite"></div>
        </section>
        <section id="trend" class="panel full">
          <h2>Tendencia (turnos/dia)</h2>
          <div id="trend-content">Consultando /metrics/timeseries...</div>
          <div id="trend-announce" class="sr-only" aria-live="polite"></div>
        </section>
        <section id="heatmap" class="panel full">
          <h2>Horas pico (dia x hora)</h2>
          <div id="heatmap-content">Consultando /metrics/heatmap...</div>
          <div id="heatmap-announce" class="sr-only" aria-live="polite"></div>
        </section>
        <section id="filters" class="panel full">
          <h2>Filtros</h2>
          <div>
            <label for="filter-from">From</label>
            <input type="date" id="filter-from" />
          </div>
          <div>
            <label for="filter-to">To</label>
            <input type="date" id="filter-to" />
          </div>
          <div>
            <label for="filter-service">Service</label>
            <select id="filter-service">
              <option value="">Todos</option>
            </select>
          </div>
          <div class="filter-tools">
            <div class="preset-group" aria-label="Presets de rango">
              <button class="btn btn-chip" id="preset-24h" type="button">24h</button>
              <button class="btn btn-chip" id="preset-7d" type="button">7d</button>
              <button class="btn btn-chip" id="preset-30d" type="button">30d</button>
            </div>
            <div class="copy-group">
              <button id="copy-link" class="btn btn-ghost btn-small" type="button">
                Copiar link
              </button>
              <span id="copy-feedback" class="copy-feedback" aria-live="polite"></span>
            </div>
          </div>
          <div class="actions">
            <button id="apply-filters" class="btn btn-primary" type="button">Aplicar</button>
            <button id="clear-filters" class="btn btn-ghost" type="button">Limpiar</button>
          </div>
          <p id="filter-note" class="filter-note" aria-live="polite"></p>
        </section>
        <section id="contract-live" class="panel full">
          <h2>Contrato vivo</h2>
          <details id="contract-health-section" class="contract-section">
            <summary><span>/health</span></summary>
            <div class="contract-actions">
              <button id="copy-health" class="btn btn-ghost btn-small" type="button">
                Copiar JSON
              </button>
              <span id="copy-health-feedback" class="copy-feedback" aria-live="polite"></span>
            </div>
            <pre id="contract-health">Consultando /health...</pre>
          </details>
          <details id="contract-overview-section" class="contract-section">
            <summary><span>/metrics/overview</span></summary>
            <div class="contract-actions">
              <button id="copy-overview" class="btn btn-ghost btn-small" type="button">
                Copiar JSON
              </button>
              <span id="copy-overview-feedback" class="copy-feedback" aria-live="polite"></span>
            </div>
            <pre id="contract-overview">Consultando /metrics/overview...</pre>
          </details>
        </section>
      </main>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
