<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LUMEN — Ops & Turnos</title>
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="hero">
        <p class="kicker">Lectura en vivo</p>
        <h1>LUMEN — Ops & Turnos</h1>
        <p class="subtitle">Una lectura clara de tu operación: ritmo, picos y señales.</p>
        <div class="demo-row">
          <label class="demo-toggle" for="demo-toggle">
            <input type="checkbox" id="demo-toggle" />
            <span>Modo muestra</span>
          </label>
          <span id="demo-pill" class="pill" aria-hidden="true">Muestra</span>
        </div>
        <div class="share-row">
          <button id="share-demo" class="btn btn-ghost btn-small" type="button" aria-label="Compartir demo">
            Compartir demo
          </button>
          <span id="share-feedback" class="copy-feedback" aria-live="polite"></span>
        </div>
      </header>
      <main class="grid">
        <section id="today" class="panel full today-panel panel-compact">
          <h2>Hoy en tu operación</h2>
          <p class="panel-kicker">Lo esencial para decidir hoy.</p>
          <div id="today-content">Cargando...</div>
        </section>
        <section id="summary" class="panel full summary-panel panel-compact">
          <div class="summary-header">
            <h2>Resumen</h2>
            <span id="system-pill" class="status-pill system-pill">Operación activa</span>
          </div>
          <p class="panel-kicker">Volumen, pérdidas y ritmo del período.</p>
          <div id="overview-content">Cargando...</div>
          <div id="overview-updated" class="updated-line"></div>
          <div id="overview-announce" class="sr-only" aria-live="polite"></div>
        </section>
        <section id="insights" class="panel full panel-compact panel-collapsible is-open">
          <button class="panel-toggle" type="button" aria-expanded="true" aria-controls="insights-body">
            <span class="panel-toggle-text">
              <span class="panel-title">Lecturas clave</span>
              <span class="panel-kicker">Señales simples basadas en tus datos.</span>
            </span>
            <span class="panel-toggle-icon" aria-hidden="true"></span>
          </button>
          <div id="insights-body" class="panel-body" role="region" aria-label="Lecturas clave">
            <div id="insights-content" aria-live="polite">Cargando...</div>
          </div>
        </section>
        <section id="trend" class="panel full panel-visual panel-collapsible is-open">
          <button class="panel-toggle" type="button" aria-expanded="true" aria-controls="trend-body">
            <span class="panel-toggle-text">
              <span class="panel-title">Evolución</span>
              <span class="panel-kicker">Cómo se movieron los turnos día a día.</span>
            </span>
            <span class="panel-toggle-icon" aria-hidden="true"></span>
          </button>
          <div id="trend-body" class="panel-body" role="region" aria-label="Evolución">
            <div id="trend-content">Cargando...</div>
            <div id="trend-callout" class="panel-callout"></div>
            <div id="trend-announce" class="sr-only" aria-live="polite"></div>
          </div>
        </section>
        <section id="heatmap" class="panel full panel-visual panel-collapsible is-open">
          <button class="panel-toggle" type="button" aria-expanded="true" aria-controls="heatmap-body">
            <span class="panel-toggle-text">
              <span class="panel-title">Cuándo te buscan</span>
              <span class="panel-kicker">En qué horas se concentra la demanda.</span>
            </span>
            <span class="panel-toggle-icon" aria-hidden="true"></span>
          </button>
          <div id="heatmap-body" class="panel-body" role="region" aria-label="Cuándo te buscan">
            <div id="heatmap-content">Cargando...</div>
            <div id="heatmap-callout" class="panel-callout">
              <span id="heatmap-callout-text"></span>
              <span id="heatmap-callout-chip" class="callout-chip"></span>
            </div>
            <div id="heatmap-announce" class="sr-only" aria-live="polite"></div>
          </div>
        </section>
        <section id="filters" class="panel full panel-secondary">
          <h2>Filtros</h2>
          <p class="panel-kicker">Ajustá el período y el servicio.</p>
          <div>
            <label for="filter-from">Desde</label>
            <input type="date" id="filter-from" />
          </div>
          <div>
            <label for="filter-to">Hasta</label>
            <input type="date" id="filter-to" />
          </div>
          <div>
            <label for="filter-service">Servicio</label>
            <select id="filter-service">
              <option value="">Todos</option>
            </select>
          </div>
          <div class="filter-tools">
            <div class="preset-group" aria-label="Atajos de rango">
              <button class="btn btn-chip" id="preset-24h" type="button">24h</button>
              <button class="btn btn-chip" id="preset-7d" type="button">7d</button>
              <button class="btn btn-chip" id="preset-30d" type="button">30d</button>
            </div>
            <div class="copy-group">
              <button id="copy-link" class="btn btn-ghost btn-small" type="button">
                Copiar enlace
              </button>
              <span id="copy-feedback" class="copy-feedback" aria-live="polite"></span>
            </div>
          </div>
          <div class="actions">
            <button id="apply-filters" class="btn btn-primary" type="button">Aplicar</button>
            <button id="clear-filters" class="btn btn-ghost" type="button">Limpiar</button>
          </div>
          <p id="filter-note" class="filter-note" aria-live="polite"></p>
        </section>
        <section id="technical" class="panel full">
          <details id="technical-section" class="technical-section">
            <summary>Información técnica</summary>
            <div class="technical-body">
              <div class="technical-block">
                <h3>Estado del sistema</h3>
                <div id="status-content">Consultando /health...</div>
                <div id="status-announce" class="sr-only" aria-live="polite"></div>
                <div class="meta-line">
                  <span id="meta-service">servicio: n/a</span>
                  <span id="meta-env">entorno: n/a</span>
                  <span id="meta-started">inicio: n/a</span>
                  <span id="meta-uptime">tiempo activo: n/a</span>
                </div>
              </div>
              <div class="technical-block">
                <h3>Contrato vivo</h3>
                <details id="contract-health-section" class="contract-section">
                  <summary><span>/health</span></summary>
                  <div class="contract-actions">
                    <button id="copy-health" class="btn btn-ghost btn-small" type="button">
                      Copiar JSON
                    </button>
                    <span id="copy-health-feedback" class="copy-feedback" aria-live="polite"></span>
                  </div>
                  <pre id="contract-health">Consultando /health...</pre>
                </details>
                <details id="contract-overview-section" class="contract-section">
                  <summary><span>/metrics/overview</span></summary>
                  <div class="contract-actions">
                    <button id="copy-overview" class="btn btn-ghost btn-small" type="button">
                      Copiar JSON
                    </button>
                    <span id="copy-overview-feedback" class="copy-feedback" aria-live="polite"></span>
                  </div>
                  <pre id="contract-overview">Consultando /metrics/overview...</pre>
                </details>
              </div>
            </div>
          </details>
        </section>
      </main>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
